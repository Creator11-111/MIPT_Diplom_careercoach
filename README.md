# Интеллектуальная система карьерного консультирования для финансового сектора

**Выпускная квалификационная работа**  
Московский физико-технический институт (МФТИ)

[![Python](https://img.shields.io/badge/Python-3.12+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![MongoDB](https://img.shields.io/badge/MongoDB-Atlas-brightgreen.svg)](https://www.mongodb.com/)
[![YandexGPT](https://img.shields.io/badge/YandexGPT-API-yellow.svg)](https://cloud.yandex.ru/)

---

## Аннотация

Данная работа посвящена разработке интеллектуальной системы карьерного консультирования для специалистов финансового и банковского сектора. Система использует методы машинного обучения, обработки естественного языка и семантического поиска для формирования персонализированных карьерных рекомендаций.

### Ключевые слова

Семантический поиск, векторные эмбеддинги, большие языковые модели (LLM), FAISS, карьерное консультирование, рекомендательные системы, NLP, RAG

---

## Проблематика исследования

Современный рынок труда в финансовом секторе характеризуется высокой динамикой изменений и сложностью требований к компетенциям специалистов. Существующие системы подбора вакансий имеют ряд ограничений:

- **Отсутствие семантического понимания**: традиционные методы поиска по ключевым словам не учитывают контекст и семантическую близость
- **Недостаток персонализации**: рекомендации не учитывают индивидуальный профиль, карьерные цели и траекторию развития специалиста
- **Отсутствие специализации**: универсальные карьерные платформы не учитывают специфику финансового сектора

### Предлагаемое решение

Разработанная система решает указанные проблемы посредством:

1. **Диалогового интервью** с AI-консультантом для сбора структурированного профиля пользователя
2. **Семантического поиска вакансий** с использованием векторных эмбеддингов и многоэтапной LLM-фильтрации
3. **Анализа карьерных разрывов** (Gap Analysis) и формирования персонализированного плана развития
4. **Рекомендаций по обучению** с подбором релевантных курсов и промежуточных позиций

---

## Основные возможности системы

- **Интеллектуальное интервью**: диалог с AI-консультантом (8-10 вопросов) для формирования профиля специалиста
- **Семантический поиск**: многоэтапный алгоритм поиска вакансий (FAISS + LLM-фильтрация)
- **Построение профиля**: извлечение структурированных данных из диалога с использованием JSON Schema
- **План карьерного развития**: Gap Analysis, подбор курсов, поиск промежуточных позиций
- **Управление сессиями**: сохранение истории диалогов, возможность экспорта

---

## Архитектура системы

Система реализована по принципу многослойной архитектуры:

```
┌─────────────────────────────────────────────────────────┐
│                  Presentation Layer                      │
│           (HTML/CSS/JavaScript — веб-интерфейс)         │
└────────────────────┬────────────────────────────────────┘
                     │ HTTP/REST API
┌────────────────────▼────────────────────────────────────┐
│                    API Layer (FastAPI)                   │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────┐ │
│  │ Sessions │  │   Chat   │  │ Profile  │  │  Match  │ │
│  └──────────┘  └──────────┘  └──────────┘  └─────────┘ │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────▼────────────────────────────────────┐
│               Business Logic Layer                       │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ ChatService  │  │ MatchService │  │CareerService │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────▼────────────────────────────────────┐
│                 Data Access Layer                        │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────┐ │
│  │ Sessions │  │ Messages │  │ Profiles │  │Vacancies│ │
│  │   Repo   │  │   Repo   │  │   Repo   │  │  Repo   │ │
│  └──────────┘  └──────────┘  └──────────┘  └─────────┘ │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────▼────────────────────────────────────┐
│                 Data Storage Layer                       │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐              │
│  │ MongoDB  │  │  FAISS   │  │ YandexGPT│              │
│  └──────────┘  └──────────┘  └──────────┘              │
└─────────────────────────────────────────────────────────┘
```

---

## Технологический стек

### Backend
- **Python 3.12+** — основной язык программирования
- **FastAPI** — асинхронный веб-фреймворк
- **MongoDB** — документоориентированная база данных
- **Motor** — асинхронный драйвер MongoDB
- **FAISS** — библиотека для эффективного поиска ближайших соседей
- **YandexGPT** — большая языковая модель для генерации и анализа
- **Pydantic** — валидация данных и типизация

### Frontend
- **HTML5/CSS3** — разметка и стилизация
- **JavaScript (ES6+)** — клиентская логика
- **Responsive Design** — адаптивный интерфейс

### Инфраструктура
- **Docker** — контейнеризация
- **Google Cloud Run** — serverless-платформа для развёртывания
- **Uvicorn** — ASGI-сервер

---

## Алгоритмы и методы

### Семантический поиск вакансий

Реализован многоэтапный алгоритм с каскадной фильтрацией:

1. **Препроцессинг** — обогащение профиля ключевыми словами (Query Expansion)
2. **Векторный поиск (FAISS)** — отбор top-100 кандидатов по семантической близости
3. **LLM Stage 1** — фильтрация по названиям вакансий (100 → 30)
4. **LLM Stage 2** — фильтрация по полным описаниям (30 → 15)
5. **Seniority Classification** — определение уровня позиции

### Построение профиля

- Извлечение структурированных данных из диалога с использованием Structured Completion
- JSON Schema с 30+ полями, адаптированными для финансового сектора
- Валидация через Pydantic модели

### Gap Analysis

- Формализация карьерного разрыва как множества недостающих навыков
- Генерация рекомендаций по курсам с образовательных платформ
- Поиск промежуточных вакансий для построения карьерной траектории

---

## Структура проекта

```
financial_coach/
├── app/                          # Основное приложение
│   ├── main.py                   # Точка входа FastAPI
│   ├── config.py                 # Конфигурация
│   ├── prompts.py                # Промпты для LLM
│   ├── db/                       # Работа с базой данных
│   ├── models/                   # Pydantic модели
│   ├── routers/                  # API endpoints
│   ├── services/                 # Бизнес-логика
│   ├── repos/                    # Репозитории данных
│   └── startup/                  # Инициализация
├── data/                         # Данные
│   ├── financial_vacancies.parquet
│   └── embeddings/               # Векторные представления
├── data_parsing/                 # Скрипты парсинга
├── docs/                         # Техническая документация
├── static/                       # Веб-интерфейс
├── tests/                        # Тесты
├── Dockerfile                    # Docker конфигурация
└── requirements.txt              # Зависимости
```

---

## Установка и запуск

### Требования

- Python 3.12+
- MongoDB (рекомендуется MongoDB Atlas)
- API ключ YandexGPT

### Быстрый старт

```bash
# Клонирование репозитория
git clone <repository-url>
cd financial_coach

# Установка зависимостей
pip install -r requirements.txt

# Настройка переменных окружения
cp configs/example.env .env
# Отредактируйте .env, указав свои ключи

# Запуск приложения
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

**Веб-интерфейс:** `http://localhost:8000/static/index.html`  
**API документация:** `http://localhost:8000/docs`

### Переменные окружения

```env
YANDEX_FOLDER_ID=your_folder_id
YANDEX_API_KEY=your_api_key
MONGO_URI=mongodb+srv://user:password@cluster.mongodb.net/database
MONGO_DB=financial_career_coach
APP_ENV=development
```

---

## API Endpoints

### Сессии
- `POST /v1/sessions` — создание сессии
- `GET /v1/sessions/{session_id}` — получение сессии с историей
- `DELETE /v1/sessions/{session_id}` — удаление сессии

### Чат
- `POST /v1/chat/{session_id}` — отправка сообщения

### Профиль
- `GET /v1/profile/{session_id}` — построение профиля из диалога

### Поиск
- `POST /v1/match/vacancies/by-session/{session_id}` — поиск вакансий
- `POST /v1/match/career-development` — план карьерного развития

---

## Развёртывание

### Google Cloud Run

```bash
gcloud run deploy financial-career-coach \
  --source . \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --memory 4Gi \
  --cpu 2 \
  --timeout 600 \
  --set-env-vars "MONGO_URI=...,YANDEX_FOLDER_ID=...,YANDEX_API_KEY=..."
```

---

## Документация

Дополнительная техническая документация:

- `docs/ARCHITECTURE.md` — архитектура системы
- `docs/API.md` — документация API
- `docs/METHODS.md` — методы и алгоритмы
- `docs/EXPERIMENTS.md` — экспериментальная оценка
- `docs/DEPLOYMENT.md` — инструкции по развёртыванию

---

## Безопасность

- API ключи хранятся в переменных окружения
- Файлы с ключами исключены из Git через `.gitignore`
- Валидация входных данных через Pydantic
- Rate limiting для защиты от злоупотреблений
- CORS настройки для веб-интерфейса

---

## Автор

**Орлов Антон**  
Московский физико-технический институт  
2025

---

## Лицензия

Проект разработан в рамках выпускной квалификационной работы МФТИ.
